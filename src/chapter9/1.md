# ライフタイム
## ライフタイムとは
**その参照が有効である期間(スコープ)** のこと。<br>
`参照が有効 = そこにデータがある`<br>を保証するための仕組み。

## なぜ必要なのか
ダングリング参照を防ぐため。ダングリング参照とは、すでに解放されたり、スコープ外に出てしまったメモリ上のデータを参照し続けること。

## シンプルな例
このようなコードは危険なので、コンパイラの借用チェッカー機能がこれを事前に防いでくれる。
```rust
fn main() {
    let r;          // 参照するためのrを宣言

    {               // 新しいスコープ開始
        let x = 5;  // xを作成
        r = &x;     // rにxの参照をセット
    }               // スコープが終了したのでxはドロップ

    // xはもう存在しないのにrはそれを使おうとしてるからエラー
    println!("{}", r);
}
```
言葉に置き換えると、「`x`のライフタイムはスコープ内だけなのに、`r`はそれより長く生きようとしてる」

要するに、参照のライフタイムは、参照先のデータのライフタイムより必然的に短くならないといけない。