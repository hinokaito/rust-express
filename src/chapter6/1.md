# 列挙型
列挙型(enum)は、取りうる値の種類をあらかじめ列挙して表現する型です。列挙されているものを「バリアント」と呼びます。

```rust
enum Direction {
    North, // バリアント
    South,
    East,
    West,
}

fn main() {
    let dir = Direction::North;
}
```

型として使うだけでなく、各要素にデータを持たせることができます。

```rust
enum Message {
    // データ無し
    Quit,
    // 構造体(後述)のようなデータ
    Move { x: i32, y: i32 },
    // 文字列を1つ
    Write(String),
    // 3つの整数
    ChangeColor(i32, i32, i32),
}

fn main() {
    let msg = Message::Write(String::from("Hello"));
}
```

## match
enumは、`match`と組み合わせて使うことがほとんどです。`match`は条件分岐に使われますが、「網羅性」が必要で、安全な作りになっています。`if`と同じように値を返すこともできます。

```rust
enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

fn process(msg: Message) {
    match msg {
        Message::Quit => println!("終了"),
        Message::Move { x, y } => println!("移動: x={}, y={}", x, y),
        Message::Write(text) => println!("メッセージ: {}", text),
        Message::ChangeColor(r, g, b) =>
            println!("色変更: {}, {}, {}", r, g, b),
    }
}

fn main() {
    let msg = Message::Write(String::from("Hello"));
    process(msg); // メッセージ: Hello
}
```