# match
enumは、`match`と組み合わせて使うことがほとんどです。`match`は条件分岐に使われますが、「網羅性」が必要で、安全な作りになっています。`if`と同じように値を返すこともできます。

## enumと使う
```rust
enum Message {
    Quit,
    Move { x: i32, y: i32 },
    Write(String),
    ChangeColor(i32, i32, i32),
}

fn process(msg: Message) {
    // すべてのバリアントをカバーさせる
    match msg {
        Message::Quit => println!("終了"),
        Message::Move { x, y } => println!("移動: x={}, y={}", x, y),
        Message::Write(text) => println!("メッセージ: {}", text),
        Message::ChangeColor(r, g, b) =>
            println!("色変更: {}, {}, {}", r, g, b),
    }
}

fn main() {
    let msg = Message::Write(String::from("Hello"));
    process(msg); // メッセージ: Hello
}
```

## ワイルドカード
ifでいうelseのように、「それ以外のすべて」的なものをワイルドカードと呼び、`match`では`_`を使います。

複数行にわたって処理を行いたい場合、`{}`でスコープを作ります。

また、処理をしない場合は`{}`や`()`だけ書きます。
```rust
match age {
    18 => {
        println!("成人おめでとう");
        return present();
    }
    _ => {}
}
```

## さらに条件を加える
```rust 
fn main() {
    let x = 2;

    match x {
    // ▭ if ~~~ => でさらにフィルターできる
        n if n % 2 == 0 => println!("Even"),
        _ => println!("Odd"),
    }
}
```

## 値を返す
```rust
fn is_even(x: i32) -> bool {
    match x {
        n if n % 2 == 0 => true,
        _ => false
    }
}

fn main() {
    let x = 3;

    println!("{:?}", is_even(x));
}
```